###Redis实现排行榜功能

####一、场景
&emsp;&emsp;Redis提供了有序集合数据结构，可以适用于一些有排行需求的场景里，比如在活动里的积分排行榜，游戏里的战斗力排行，充值排行等。

&emsp;&emsp;比如积分排行，积分高的排名在前，相同积分的按时间早的排名在前，所以有序集合中的分数字段可以设计成分数=积分+时间的形式。


####二、方案

- 可以把积分值存储在整数位，时间值存储在小数位
- 毫秒时间戳是13位的，可以使用最大时间9999999999999（13位）减去当前操作时间戳，得到的差值作为小数位的时间值，注意这里需要在值的前面补满数字0达到13位后在拼接到小数位置，这样从Redis存储的分数取出的整数部分就是用户实际积分了。（php中可以使用str_pad方法进行填充0的操作）